!function(e){e("#form-featured-sorting").submit(function(){var t=e(this),s=t.find('[type="submit"]'),a=t.serialize();return e("#added-featured-posts-message").remove(),e.ajax({url:wtfp_admin_global.ajax_url,type:"post",data:a,dataType:"json",beforeSend:function(){s.prop("disabled",!0).addClass("loading")},success:function(t){if(t.data.message){var a=t.success?"updated":"error",o='<div id="added-featured-posts-message" class="'+a+' notice notice-success is-dismissible added-featured-posts-message"><p>'+t.data.message+"</p></div>";e(o).insertAfter(s)}t.success&&setTimeout(function(){window.location.href=t.data._redirect},1e3)},error:function(e){200!=e.status&&console.log(e.status+" ("+e.statusText+")")}}),!1}),e(document).on("click","#table-featured-sorting .column-action a",function(t){t.preventDefault();var s=e(this),a=s.data("nonce"),o=s.data("id");return e("#delete-featured-posts-message").remove(),e.ajax({url:wtfp_admin_global.ajax_url,type:"post",data:{action:"delete_featured_sorting",_ajax_nonce:a,post_id:o,post_type_title:e('.order-featured-sorting [name="post_type_title"]').val(),post_type:e('.order-featured-sorting [name="post_type"]').val(),featured_key:e('.order-featured-sorting [name="featured_key"]').val(),lang:e('.order-featured-sorting [name="lang"]').val()},dataType:"json",beforeSend:function(){s.addClass("disabled").text("Loading...")},success:function(t){if(t.data.message){var s=t.success?"updated":"error",a='<div id="delete-featured-posts-message" class="'+s+" notice notice-success is-dismissible delete-featured-posts-message delete-featured-posts-message-"+o+'"><p>'+t.data.message+"</p></div>";e(a).insertAfter(e("#table-featured-sorting"))}t.success&&setTimeout(function(){window.location.href=t.data._redirect},1e3)},error:function(e){200!=e.status&&console.log(e.status+" ("+e.statusText+")")}}),!1});var t=e("table#table-featured-sorting:not(.post-type-events) tbody");t.length&&(t.sortable({placeholder:"ui-state-highlight",stop:function(t){e(t.target).find("tr.ui-sortable-handle").each(function(t){e(this).find(".column-order span").text(++t)}),e("#order-featured-sorting").submit()}}),t.disableSelection()),e("#order-featured-sorting").submit(function(){var t=e(this),s=t.serialize();return e("#added-featured-posts-message").remove(),e.ajax({url:wtfp_admin_global.ajax_url,type:"post",data:s,dataType:"json",success:function(){},error:function(e){200!=e.status&&console.log(e.status+" ("+e.statusText+")")}}),!1})}(jQuery);